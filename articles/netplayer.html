<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>NetPlayer based on RaspberryPi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../themes/default/public/font-awesome-4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="./../themes/default/public/styles.css">
    <link rel="stylesheet" href="./../themes/default/public/prism/prism.css" />
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,800,700' type='text/css'>
</head>

<body>
    <div class="content">
        <div class="row">
            <div class="col-main">
                <h2 id="network-player-based-on-raspberrypi-and-hifiberry">Network player based on RaspberryPi and Hifiberry</h2>
                <p>
                    <img src="../img/netplayer/on-shelf-face-4.png" alt="NetPlayer en face">
                </p>
                <p>I use a turntable for most of the time, but sometimes it wasn't best for the job. getting up every 20 minutes to play music while working was no fun. Another need was an internet radio. I was considering buying Mac Mini, but the price
                    is way too high even for the used devices. I researched external DACs for RaspberryPi, but there was (is?) issue with IO on rPi. Then I found <a href="http://www.hifiberry.com/" target="_blank">Hifiberry</a> - a DAC which is connected
                    directly to the I2S slot in RaspberryPi. Exactly what I was looking for. Non expensive, high quality DIY device. There was some soldering involved as I wanted RCA slots in different place and RaspberryPi has no pins in I2S slot.</p>
                <hr>
                <h2 id="requirements">Requirements</h2>
                <h3 id="plays-from-a-playlist">Plays from a playlist</h3>
                <p>After some research on Linux distribution I have chosen <a href="http://volumio.org/" target="_blank">Volumio</a> as it uses <a href="http://www.musicpd.org/" target="_blank">MPD</a> and is advertising as audiophile weapon. Volumio is also
                    working with Hifiberry with almost no changes. It was a pleasent surprise finding it runing <code class="language-javascript">shairport</code> to stream from Apple devices.</p>
                <h3 id="plays-internet-radio">Plays Internet Radio</h3>
                <p>I often listen to "Tr√≥jka" Polish radio station. Unfortunately it uses some strange codec and is not working under MPD. I decided to use Mplayer to play internet radio.</p>
                <h3 id="plays-music-test-files">Plays music test files</h3>
                <p>What's the fun of owning a DIY network player if one can't take it and test how it sound on your friend's system? I have some space on SD where I copied few files. No need to connect to the probably unsafe local network.</p>
                <hr>
                <h2 id="logic">Logic</h2>
                <p>
                    <img src="../img/netplayer/buttons.png" alt="buttons">
                </p>
                <p>Device has four buttons. <code class="language-javascript">stop</code> / <code class="language-javascript">radio</code> / <code class="language-javascript">music</code> / <code class="language-javascript">test</code>
                </p>
                <p>If this works for you as well feel free to download the software from <a href="https://github.com/zalun/NetPlayer">https://github.com/zalun/NetPlayer</a>
                </p>
                <blockquote>I've made a choice to not switch off the device on a usual basis, I can always run <i>ssh</i> and <i>halt</i> it from the terminal. This however might change in the future, I consider adding a button on the back panel</blockquote>

                <h3 id="stop">Stop</h3>
                <p>This is stop and restart button. I stop all clients and restart <code class="language-javascript">shairport</code>. I wanted it that way to be sure everything has stopped playing even if it wasn't run by pressing a button.</p>
                <h3 id="radio">Radio</h3>
                <p>Stations are defined in <code class="language-javascript">settings.py</code>. Depending on the current state pressing the button is either switching lates played station or switching to the next one on the list.</p>
                <h3 id="music">Music</h3>
                <p>Play current song or switch to the next one in playlist.</p>
                <p>Note: One needs to create a playlist using an MPD client on a different device.</p>
                <h3 id="test">Test</h3>
                <p>Files are read from the directory specified in <code class="language-javascript">settings.py</code>. Again - Play current song or switch to the next one.</p>
                <hr>
                <h2 id="build">Build</h2>
                <p>
                    <img src="../img/netplayer/board.png" alt="Prototype board">
                </p>
                <p>Hearing that the standard impulse power source isn't good for sound I bought a good quality assembled DIY power source. I've placed it in a separate box as I might use it to power another device. The NetPlayer has power input and RCA output.
                    It connects to the network using WiFi USB dongle. All music files are copied to the Synology NAS. Boxes used aren't pretty yet, also the buttons are temporary. I want to design front panel with wooded buttons. There is also an idea
                    to add display (LED or OLED).</p>
                <p>
                    <img src="../img/netplayer/open-4-back.png" alt="RCA">
                </p>
                <p>First I've designed the device using a prototype board. After it worked well for a week or so, I've ordered the boxes.</p>
                <p>
                    <img src="../img/netplayer/prototype-board-1.png" alt="Prototype board">
                </p>
                <p>It does look well on the shelf even with the current design.</p>
                <p>
                    <img src="../img/netplayer/on-shelf-face-2.png" alt="On shelf">
                </p>
            </div>
            <div class="col-sidebar">
                <p><a href="./../"><strong>Hacking around</strong></a>
                    by zalun</p>
                <hr>
                <p><small>Latest blog posts:</small>
                    <br />
                    <p><a href="./../articles/auroralamp.html"><i class="fa fa-check"></i> Aurora lamp based on Arduino</a>
                    </p>
                    <p><a href="./../articles/netplayer.html"><i class="fa fa-check"></i> NetPlayer based on RaspberryPi</a>
                    </p>
                </p>
                <hr>
                <p><small>Tags:</small>
                    <br />
                    <a href="./../tags/kids.html">kids</a>
                    <a href="./../tags/arduino.html">Arduino</a>
                    <a href="./../tags/raspberrypi.html">RaspberryPi</a>
                    <a href="./../tags/hardware.html">hardware</a>
                    <a href="./../tags/audio.html">Audio</a>
                </p>
            </div>
        </div>
        <footer>
            <p><a href="./../"><i class="fa fa-home"></i> Home</a>
                <a href="./../all.html"><i class="fa fa-list-ul"></i> All articles</a>
                <br/>
                <small>Made using <a href="https://github.com/krasimir/techy" target="_blank">techy</a></small>
            </p>
        </footer>
    </div>
    <script src="./../themes/default/public/prism/prism.js"></script>
    <script src="./../themes/default/public/scripts.js"></script>
</body>

</html>